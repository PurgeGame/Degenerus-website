<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Degenerus Beta</title>
  <link rel="stylesheet" href="/shared/nav.css">
  <style>
    /* ------------------------------------------------------------------ */
    /* Page-level overrides                                                 */
    /* ------------------------------------------------------------------ */
    :root {
      --accent-primary: #f5a623;
      --accent-secondary: #ffc04d;
    }

    body {
      background: linear-gradient(135deg, var(--bg-primary) 0%, #24130a 100%);
    }

    /* ------------------------------------------------------------------ */
    /* Layout                                                               */
    /* ------------------------------------------------------------------ */
    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: clamp(0.5rem, 2vw, 1rem);
    }

    /* ------------------------------------------------------------------ */
    /* Page header                                                          */
    /* ------------------------------------------------------------------ */
    .page-header {
      text-align: center;
      padding: clamp(1rem, 3vw, 1.5rem);
      border: 1px solid var(--border-color);
      border-radius: 12px;
      background: var(--bg-secondary);
      margin-bottom: clamp(0.75rem, 3vw, 1.25rem);
    }

    .page-header-logo {
      width: 52px;
      height: 52px;
      margin-bottom: 0.65rem;
      filter: drop-shadow(0 0 18px rgba(245, 166, 35, 0.4));
    }

    .page-header h1 {
      color: var(--accent-primary);
      font-size: clamp(1.4rem, 4vw, 1.9rem);
      font-weight: 800;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      line-height: 1;
      margin: 0 0 0.5rem;
    }

    .page-header .subtitle {
      margin: 0;
      color: var(--text-secondary);
      font-size: 0.9rem;
      line-height: 1.5;
      max-width: 580px;
      margin-left: auto;
      margin-right: auto;
    }

    /* ------------------------------------------------------------------ */
    /* Status bar                                                           */
    /* ------------------------------------------------------------------ */
    .status-bar {
      display: grid;
      grid-template-columns: repeat(6, 1fr);
      gap: clamp(0.5rem, 2vw, 0.75rem);
      margin-bottom: clamp(0.75rem, 3vw, 1.25rem);
    }

    .status-item {
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: 10px;
      padding: 0.85rem 1rem;
      display: flex;
      flex-direction: column;
      gap: 0.3rem;
    }

    .status-label {
      font-size: 0.68rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.09em;
      color: var(--text-dim);
    }

    .status-value {
      font-size: 1rem;
      font-weight: 700;
      color: var(--accent-primary);
      line-height: 1.2;
    }

    .status-input {
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      border-radius: 4px;
      color: var(--accent-primary);
      font-size: 0.85rem;
      font-weight: 700;
      text-transform: uppercase;
      padding: 0.2rem 0.4rem;
      width: 100%;
      max-width: 100px;
    }

    .status-input::placeholder {
      color: var(--text-dim);
      font-weight: 400;
      text-transform: none;
    }

    /* Phase color variants */
    .status-value.phase--normal   { color: var(--success); }
    .status-value.phase--jackpot  { color: var(--warning); }
    .status-value.phase--rng      { color: var(--error); }

    /* Presale color variants */
    .status-value.presale--active   { color: var(--success); }
    .status-value.presale--inactive { color: var(--text-dim); }

    /* ------------------------------------------------------------------ */
    /* Panel (shared card style)                                            */
    /* ------------------------------------------------------------------ */
    .panel {
      background: var(--bg-secondary);
      border: 1px solid var(--border-color);
      border-radius: 12px;
      padding: clamp(1rem, 3vw, 1.5rem);
      margin-bottom: clamp(0.75rem, 3vw, 1.25rem);
    }

    .panel h2 {
      font-size: 0.72rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--text-dim);
      margin-bottom: 1rem;
      border-bottom: 1px solid var(--border-subtle);
      padding-bottom: 0.6rem;
    }

    .panel h3 {
      font-size: 0.82rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.07em;
      color: var(--text-secondary);
      margin-bottom: 0.65rem;
    }

    /* ------------------------------------------------------------------ */
    /* Form elements                                                        */
    /* ------------------------------------------------------------------ */
    label {
      display: block;
      font-size: 0.72rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.07em;
      color: var(--text-secondary);
      margin-bottom: 0.3rem;
    }

    input[type="number"],
    input[type="text"],
    select {
      width: 100%;
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      color: var(--text-primary);
      padding: 0.5rem 0.75rem;
      border-radius: 6px;
      font-family: inherit;
      font-size: 0.9rem;
      transition: border-color 0.15s;
      appearance: none;
      -webkit-appearance: none;
    }

    input[type="number"]:focus,
    input[type="text"]:focus,
    select:focus {
      outline: none;
      border-color: var(--accent-primary);
      box-shadow: 0 0 0 2px rgba(245, 166, 35, 0.15);
    }

    input::placeholder { color: var(--text-dim); }

    select {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath d='M1 1l5 5 5-5' stroke='%236b6b8d' stroke-width='1.5' fill='none' stroke-linecap='round'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 0.75rem center;
      padding-right: 2rem;
      cursor: pointer;
    }

    select option {
      background: var(--bg-tertiary);
      color: var(--text-primary);
    }

    /* ------------------------------------------------------------------ */
    /* Buttons                                                              */
    /* ------------------------------------------------------------------ */
    .btn-primary {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.4rem;
      padding: 0.65rem 1.4rem;
      background: linear-gradient(135deg, var(--accent-primary), #ffc04d);
      color: #0a0a0f;
      font-weight: 700;
      font-family: inherit;
      font-size: 0.85rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      transition: box-shadow 0.2s, transform 0.1s;
      white-space: nowrap;
    }

    .btn-primary:hover {
      box-shadow: 0 6px 20px rgba(245, 166, 35, 0.4);
      transform: translateY(-1px);
    }

    .btn-primary:active {
      transform: translateY(0);
    }

    .btn-primary.btn-small {
      padding: 0.45rem 0.9rem;
      font-size: 0.75rem;
    }

    .btn-secondary {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.55rem 1.1rem;
      background: transparent;
      color: var(--accent-primary);
      font-weight: 600;
      font-family: inherit;
      font-size: 0.82rem;
      border: 1px solid var(--accent-primary);
      border-radius: 8px;
      cursor: pointer;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      transition: background 0.2s, box-shadow 0.2s;
      white-space: nowrap;
    }

    .btn-secondary:hover {
      background: rgba(245, 166, 35, 0.1);
      box-shadow: 0 0 10px rgba(245, 166, 35, 0.2);
    }

    /* ------------------------------------------------------------------ */
    /* Purchase section                                                     */
    /* ------------------------------------------------------------------ */
    .purchase-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid var(--border-subtle);
      padding-bottom: 0.6rem;
      margin-bottom: 1rem;
    }

    .purchase-header h2 {
      margin: 0;
      border: none;
      padding: 0;
    }

    .pay-toggle {
      display: flex;
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      border-radius: 6px;
      overflow: hidden;
    }

    .pay-toggle-btn {
      padding: 0.35rem 0.9rem;
      font-family: inherit;
      font-size: 0.72rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.07em;
      border: none;
      background: transparent;
      color: var(--text-dim);
      cursor: pointer;
      transition: background 0.15s, color 0.15s;
    }

    .pay-toggle-btn.active {
      background: var(--accent-primary);
      color: #0a0a0f;
    }

    .pay-toggle-btn:not(.active):hover {
      color: var(--text-primary);
    }

    .purchase-panel {}

    .purchase-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 0.75rem;
      margin-bottom: 1rem;
    }

    .purchase-col {
      background: var(--bg-tertiary);
      border: 1px solid var(--border-subtle);
      border-radius: 10px;
      padding: 1rem 1.1rem;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .purchase-col-header {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
    }

    .purchase-col-header h3 {
      margin: 0;
    }

    .ticket-level {
      font-size: 0.7rem;
      font-weight: 600;
      color: var(--text-dim);
    }

    .purchase-col-unit {
      font-size: 0.7rem;
      font-weight: 600;
      color: var(--text-dim);
    }

    .cost-line {
      font-size: 0.8rem;
      color: var(--text-dim);
      margin-top: 0.2rem;
    }

    .cost-line span {
      color: var(--accent-primary);
      font-weight: 600;
    }

    .input-with-btns {
      display: flex;
      align-items: center;
      gap: 0.3rem;
    }

    .input-with-btns input {
      flex: 1;
      min-width: 0;
    }

    .incr-btns {
      display: flex;
      gap: 0.2rem;
      flex-shrink: 0;
    }

    .incr-btn {
      background: rgba(245, 166, 35, 0.15);
      border: 1px solid rgba(245, 166, 35, 0.4);
      border-radius: 5px;
      color: var(--accent-primary);
      font-size: 0.72rem;
      font-weight: 700;
      padding: 0.35rem 0.5rem;
      cursor: pointer;
      line-height: 1;
      white-space: nowrap;
    }

    .incr-btn:hover {
      background: rgba(245, 166, 35, 0.3);
      border-color: var(--accent-primary);
    }

    .coin-reward {
      font-size: 0.7rem;
      font-weight: 600;
      color: #22c55e;
    }

    .burnie-balance-line {
      font-size: 0.82rem;
      color: var(--text-secondary);
      margin-bottom: 1rem;
    }

    .burnie-balance-line span {
      color: var(--accent-primary);
      font-weight: 700;
    }

    .presale-badge {
      display: block;
      align-self: flex-start;
      padding: 0.2rem 0.6rem;
      border-radius: 4px;
      background: rgba(34, 197, 94, 0.15);
      border: 1px solid rgba(34, 197, 94, 0.3);
      color: var(--success);
      font-size: 0.68rem;
      font-weight: 700;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .purchase-controls {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .control-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
    }

    .control-group {
      display: flex;
      flex-direction: column;
      gap: 0.3rem;
    }

    /* ------------------------------------------------------------------ */
    /* Transaction status                                                   */
    /* ------------------------------------------------------------------ */
    .tx-status {
      display: none;
      align-items: center;
      gap: 0.5rem;
      padding: 0.6rem 0.9rem;
      border-radius: 8px;
      font-size: 0.82rem;
      font-weight: 500;
      border: 1px solid transparent;
      animation: txFadeIn 0.2s ease;
    }

    .tx-status:not(:empty) {
      display: flex;
    }

    @keyframes txFadeIn {
      from { opacity: 0; transform: translateY(4px); }
      to   { opacity: 1; transform: translateY(0); }
    }

    .tx-status--pending {
      background: rgba(245, 166, 35, 0.08);
      border-color: rgba(245, 166, 35, 0.25);
      color: var(--accent-primary);
    }

    .tx-status--confirmed {
      background: rgba(34, 197, 94, 0.08);
      border-color: rgba(34, 197, 94, 0.25);
      color: var(--success);
    }

    .tx-status--error {
      background: rgba(239, 68, 68, 0.08);
      border-color: rgba(239, 68, 68, 0.25);
      color: var(--error);
    }

    /* Spinner */
    .tx-spinner {
      display: inline-block;
      width: 14px;
      height: 14px;
      border: 2px solid rgba(245, 166, 35, 0.3);
      border-top-color: var(--accent-primary);
      border-radius: 50%;
      animation: spin 0.75s linear infinite;
      flex-shrink: 0;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .tx-icon {
      font-style: normal;
      font-weight: 700;
      flex-shrink: 0;
    }

    .tx-hash {
      color: inherit;
      text-decoration: underline;
      text-decoration-style: dotted;
      text-underline-offset: 2px;
      opacity: 0.8;
      font-family: 'Courier New', monospace;
      font-size: 0.75rem;
    }

    .tx-hash:hover { opacity: 1; }

    /* ------------------------------------------------------------------ */
    /* Main layout (two-column with sidebar)                               */
    /* ------------------------------------------------------------------ */
    .main-layout {
      display: grid;
      grid-template-columns: 1fr 320px;
      gap: clamp(0.75rem, 2vw, 1.25rem);
      align-items: start;
    }

    /* ------------------------------------------------------------------ */
    /* Purchase sidebar                                                    */
    /* ------------------------------------------------------------------ */
    .purchase-sidebar {
      position: sticky;
      top: 1rem;
      display: flex;
      flex-direction: column;
      gap: clamp(0.75rem, 2vw, 1rem);
    }

    .afking-heading {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .afking-info {
      position: relative;
      cursor: help;
      font-size: 0.85rem;
    }

    .afking-tooltip {
      display: none;
      position: absolute;
      left: 0;
      top: 100%;
      margin-top: 0.5rem;
      width: 340px;
      background: var(--bg-primary);
      border: 1px solid var(--border-color);
      border-radius: 10px;
      padding: 1rem 1.1rem;
      font-size: 0.75rem;
      font-weight: 400;
      line-height: 1.5;
      color: var(--text-secondary);
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5);
      z-index: 100;
      white-space: normal;
    }

    .afking-tooltip strong {
      color: var(--text-primary);
    }

    .afking-tooltip em {
      color: var(--accent-primary);
      font-style: normal;
      font-weight: 600;
    }

    .afking-info:hover .afking-tooltip {
      display: block;
    }

    .passes-grid {
      display: flex;
      flex-direction: column;
      gap: clamp(0.75rem, 2vw, 1rem);
    }

    .pass-card {
      background: var(--bg-tertiary);
      border: 1px solid var(--border-subtle);
      border-radius: 10px;
      padding: 1.1rem 1.1rem 1rem;
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .pass-header {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .pass-icon {
      font-size: 1.8rem;
      line-height: 1;
    }

    .pass-header .pass-lootbox-badge {
      margin: 0;
    }

    .pass-card h3 {
      margin: 0;
    }

    .pass-desc {
      font-size: 0.78rem;
      color: var(--text-dim);
      line-height: 1.45;
      flex: 1;
    }

    .pass-lootbox-badge {
      font-size: 0.7rem;
      font-weight: 700;
      color: #22c55e;
      background: rgba(34, 197, 94, 0.12);
      border: 1px solid rgba(34, 197, 94, 0.35);
      border-radius: 5px;
      padding: 0.15rem 0.5rem;
      white-space: nowrap;
      text-transform: uppercase;
      letter-spacing: 0.03em;
      animation: lootbox-glow 2s ease-in-out infinite alternate;
    }

    @keyframes lootbox-glow {
      from { box-shadow: 0 0 3px rgba(34, 197, 94, 0.15); }
      to   { box-shadow: 0 0 8px rgba(34, 197, 94, 0.3); }
    }

    .pass-controls {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      flex-wrap: wrap;
    }

    .pass-controls label {
      margin: 0;
      font-size: 0.6rem;
      flex-shrink: 0;
      text-transform: uppercase;
      letter-spacing: 0.04em;
      color: var(--text-dim);
    }

    .pass-controls input[type="number"],
    .pass-controls select {
      flex: 1;
      min-width: 0;
      font-size: 0.72rem;
      padding: 0.28rem 0.45rem;
    }

    .pass-controls select {
      padding-right: 1.4rem;
    }

    .deity-symbol-row {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      width: 100%;
    }

    .deity-symbol-preview {
      width: 36px;
      height: 36px;
      flex-shrink: 0;
    }

    .pass-card .btn-primary.btn-small {
      padding: 0.6rem 1.2rem;
      font-size: 0.88rem;
      width: 100%;
      margin-top: 0.25rem;
    }

    .pass-controls--compact {
      flex-wrap: nowrap;
      gap: 0.35rem;
    }

    .pass-controls--compact input[type="number"] {
      width: 3.5rem;
      flex: 0 0 auto;
    }

    .pass-controls--compact .btn-primary.btn-small {
      width: auto;
      flex: 1;
      margin-top: 0;
    }

    .pass-status {
      font-size: 0.78rem;
      font-weight: 600;
      padding: 0.25rem 0.55rem;
      border-radius: 5px;
      align-self: flex-start;
    }

    .pass-status--active {
      background: rgba(34, 197, 94, 0.12);
      border: 1px solid rgba(34, 197, 94, 0.25);
      color: var(--success);
    }

    .pass-status--inactive {
      background: rgba(107, 107, 141, 0.12);
      border: 1px solid rgba(107, 107, 141, 0.2);
      color: var(--text-dim);
    }

    /* ------------------------------------------------------------------ */
    /* Footer                                                               */
    /* ------------------------------------------------------------------ */
    footer {
      text-align: center;
      padding: 1.5rem 0 1rem;
      color: var(--text-dim);
      font-size: 0.75rem;
    }

    /* ------------------------------------------------------------------ */
    /* Connect prompt                                                       */
    /* ------------------------------------------------------------------ */
    .connect-prompt {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.75rem;
      padding: 0.85rem 1.2rem;
      background: rgba(245, 166, 35, 0.06);
      border: 1px solid rgba(245, 166, 35, 0.2);
      border-radius: 10px;
      margin-bottom: clamp(0.75rem, 3vw, 1.25rem);
    }

    .connect-prompt p {
      font-size: 0.85rem;
      color: var(--text-secondary);
      margin: 0;
    }

    /* ------------------------------------------------------------------ */
    /* Player info panel (sidebar)                                         */
    /* ------------------------------------------------------------------ */
    .player-info h3 {
      font-size: 0.75rem;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--text-dim);
      margin-bottom: 0.5rem;
    }

    .info-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.35rem 0;
      font-size: 0.8rem;
    }

    .info-row + .info-row {
      border-top: 1px solid var(--border-subtle);
    }

    .info-label {
      color: var(--text-dim);
    }

    .info-value {
      font-weight: 700;
      color: var(--text-primary);
    }

    .info-row--good {
      background: rgba(34, 197, 94, 0.12);
      border-radius: 6px;
      padding-left: 0.5rem;
      padding-right: 0.5rem;
    }
    .info-row--good .info-value { color: var(--success); }

    .info-row--warn {
      background: rgba(245, 166, 35, 0.12);
      border-radius: 6px;
      padding-left: 0.5rem;
      padding-right: 0.5rem;
    }
    .info-row--warn .info-value { color: var(--warning); }

    .quest-item {
      background: var(--bg-tertiary);
      border: 1px solid var(--border-subtle);
      border-radius: 6px;
      padding: 0.5rem 0.6rem;
      margin-bottom: 0.4rem;
    }

    .quest-type {
      font-size: 0.72rem;
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 0.2rem;
    }

    .quest-progress {
      font-size: 0.68rem;
      color: var(--text-dim);
    }

    .quest-done {
      color: var(--success);
      font-weight: 700;
    }

    /* ------------------------------------------------------------------ */
    /* Responsive                                                           */
    /* ------------------------------------------------------------------ */

    /* Tablet: sidebar collapses below main */
    @media (max-width: 920px) {
      .main-layout {
        grid-template-columns: 1fr;
      }

      .purchase-sidebar {
        position: static;
      }

      .passes-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
      }
    }

    /* Small tablet */
    @media (max-width: 768px) {
      .passes-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    /* Mobile: <640 */
    @media (max-width: 640px) {
      .status-bar {
        grid-template-columns: repeat(2, 1fr);
      }

      .purchase-grid {
        grid-template-columns: 1fr;
      }

      .control-row {
        grid-template-columns: 1fr;
      }

      .passes-grid {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 400px) {
      .status-bar {
        grid-template-columns: 1fr 1fr;
      }
    }
  </style>
</head>
<body>
<div class="container">
  <!-- Nav injected by shared/nav.js -->

  <!-- Connect prompt -->
  <div class="connect-prompt" id="connect-prompt">
    <p>Connect your wallet to interact with the Degenerus Protocol.</p>
    <button class="btn-primary btn-small" onclick="Mint.init()">Connect Wallet</button>
  </div>

  <!-- Page Header -->
  <header class="page-header">
    <img class="page-header-logo" src="/badges-circular/flame_red.svg" alt="Degenerus">
    <h1>DEGENERUS BETA</h1>
    <p class="subtitle">Buy tickets, open lootboxes, and claim passes. Real contracts, real ETH.</p>
  </header>

  <!-- Game Status Bar -->
  <div class="status-bar">
    <div class="status-item">
      <span class="status-label">Level</span>
      <span class="status-value" id="status-level">0</span>
    </div>
    <div class="status-item">
      <span class="status-label">Mint Price</span>
      <span class="status-value" id="status-price">0.01 ETH</span>
    </div>
    <div class="status-item">
      <span class="status-label">Phase</span>
      <span class="status-value" id="status-phase">—</span>
    </div>
    <div class="status-item">
      <span class="status-label">Presale</span>
      <span class="status-value presale--active" id="status-presale">62% Bonus BURNIE</span>
    </div>
    <div class="status-item">
      <span class="status-label">Score</span>
      <span class="status-value" id="status-score">—</span>
    </div>
    <div class="status-item">
      <span class="status-label">Referral</span>
      <input type="text" id="affiliate-code" class="status-input" placeholder="Code" maxlength="12">
    </div>
  </div>

  <!-- Two-column layout: passes main + purchase sidebar -->
  <div class="main-layout">

  <!-- MAIN: Passes -->
  <div class="main-col">
  <section class="panel">
    <h2 class="afking-heading">afKing Passes <span class="afking-info">&#x2139;&#xFE0F;<span class="afking-tooltip">
<strong>afKing Mode</strong> - AFK like a King<br><br>
Any active pass unlocks afKing mode, which supercharges your auto-rebuy so you can step away and let the protocol compound your position automatically.<br><br>
<strong>Auto-Rebuy Boost</strong><br>
Jackpot winnings auto-convert to tickets with a <em>+45% bonus</em> (vs +30% without afKing).<br><br>
<strong>Coinflip Recycling</strong><br>
BURNIE coinflip rebets get a <em>+1.6% bonus</em>. Deity pass holders scale up to <em>+3.1%</em> over 150 levels.<br><br>
<strong>Score Floors</strong><br>
Your activity score is floored at 75% (50% streak + 25% participation) while any pass is active, so you can't lose your score momentum.<br><br>
<strong>Pass Bonuses</strong><br>
Lazy +10% &bull; Whale +40% &bull; Deity +80% added directly to your activity score.<br><br>
<strong>Take-Profit</strong><br>
All winnings are automatically reinvested unless your claimable balance crosses the take-profit threshold, then that amount is held back for you to claim.<br><br>
<strong>5-Level Lock</strong><br>
afKing mode locks on for 5 levels once activated. Commit to the grind.
</span></span></h2>
    <div class="passes-grid">

      <!-- Lazy Pass -->
      <div class="pass-card">
        <div class="pass-header">
          <div class="pass-icon">&#x1f634;</div>
          <span class="pass-lootbox-badge" id="lazy-lootbox">+ free 0.048 ETH lootbox (20%)</span>
        </div>
        <h3>Lazy Pass</h3>
        <p class="pass-desc">One ticket per level for the next 10 levels and a small score boost.</p>
        <div class="pass-status" id="player-lazy-status"></div>
        <button class="btn-primary btn-small" onclick="Mint.purchaseLazyPass()">BUY - <span id="lazy-price">0.24</span> ETH</button>
      </div>

      <!-- Whale Pass -->
      <div class="pass-card">
        <div class="pass-header">
          <div class="pass-icon">&#x1f433;</div>
          <span class="pass-lootbox-badge" id="whale-lootbox">+ free 0.48 ETH lootbox (20%)</span>
        </div>
        <h3>Whale Pass</h3>
        <p class="pass-desc">Two entries (1/2 ticket) per level for the next 100 levels at a large discount and a score boost for the duration of the pass.</p>
        <div class="pass-controls pass-controls--compact">
          <label for="whale-qty">Qty</label>
          <input type="number" id="whale-qty" value="1" min="1" max="100" step="1">
          <button class="btn-primary btn-small" onclick="Mint.purchaseWhaleBundle()">BUY - <span id="whale-price">2.4</span> ETH</button>
        </div>
      </div>

      <!-- Deity Pass -->
      <div class="pass-card">
        <div class="pass-header">
          <div class="pass-icon">&#x1f451;</div>
          <span class="pass-lootbox-badge" id="deity-lootbox">+ free 4.8 ETH lootbox (20%)</span>
        </div>
        <h3>Deity Pass</h3>
        <p class="pass-desc">Become the immortal deity of a symbol. Deity pass holders receive 16 entries (or a minimum of 2% of entries) for their symbol every drawing and a huge score boost. Unlike the other passes, this one is transferrable (for a fee).</p>
        <div class="pass-controls" style="flex-wrap: wrap; gap: 0.4rem;">
          <label for="deity-symbol" style="width:100%">Symbol</label>
          <div class="deity-symbol-row">
            <img id="deity-symbol-preview" class="deity-symbol-preview" src="/symbols/crypto_06_ethereum_gold.svg" alt="Ethereum">
            <select id="deity-symbol" style="flex:1; min-width: 0;">
              <optgroup label="Crypto">
                <option value="0">XRP</option>
                <option value="1">Tron</option>
                <option value="2">Sui</option>
                <option value="3">Monero</option>
                <option value="4">Solana</option>
                <option value="5">Chainlink</option>
                <option value="6" selected>Ethereum</option>
                <option value="7">Bitcoin</option>
              </optgroup>
              <optgroup label="Zodiac">
                <option value="8">Aries</option>
                <option value="9">Taurus</option>
                <option value="10">Gemini</option>
                <option value="11">Cancer</option>
                <option value="12">Leo</option>
                <option value="13">Virgo</option>
                <option value="14">Scorpio</option>
                <option value="15">Aquarius</option>
              </optgroup>
              <optgroup label="Cards">
                <option value="16">Horseshoe</option>
                <option value="17">King</option>
                <option value="18">Cash Sack</option>
                <option value="19">Club</option>
                <option value="20">Diamond</option>
                <option value="21">Heart</option>
                <option value="22">Spade</option>
                <option value="23">Ace</option>
              </optgroup>
              <optgroup label="Dice">
                <option value="24">One</option>
                <option value="25">Two</option>
                <option value="26">Three</option>
                <option value="27">Four</option>
                <option value="28">Five</option>
                <option value="29">Six</option>
                <option value="30">Seven</option>
                <option value="31">Eight</option>
              </optgroup>
            </select>
          </div>
          <button class="btn-primary btn-small" onclick="Mint.purchaseDeityPass()">BUY - <span id="deity-price">24</span> ETH</button>
        </div>
      </div>

    </div>
  </section>
  </div><!-- /.main-col -->

  <!-- SIDEBAR: Purchase -->
  <div class="purchase-sidebar">
  <section class="panel purchase-panel">
    <div class="purchase-header">
      <h2>Purchase</h2>
      <div class="pay-toggle" id="pay-toggle">
        <button class="pay-toggle-btn active" data-mode="eth" onclick="togglePayMode('eth')">ETH</button>
        <button class="pay-toggle-btn" data-mode="burnie" onclick="togglePayMode('burnie')">BURNIE</button>
      </div>
    </div>

    <!-- ETH mode -->
    <div class="pay-mode" id="pay-eth">
      <div class="purchase-grid">
        <div class="purchase-col">
          <div class="purchase-col-header">
            <h3>Tickets</h3>
            <span class="ticket-level">Level <span id="ticket-level">0</span></span>
          </div>
          <div class="input-with-btns">
            <input type="number" id="ticket-qty" value="0" min="0" step="1" placeholder="Qty">
            <div class="incr-btns">
              <button class="incr-btn" onclick="incrInput('ticket-qty',1)">+1</button>
              <button class="incr-btn" onclick="incrInput('ticket-qty',10)">+10</button>
              <button class="incr-btn" onclick="incrInput('ticket-qty',100)">+100</button>
            </div>
          </div>
          <div class="coin-reward" id="eth-coin-reward"></div>
        </div>
        <div class="purchase-col">
          <div class="purchase-col-header">
            <h3>Lootbox</h3>
            <span class="purchase-col-unit">ETH</span>
          </div>
          <div class="input-with-btns">
            <input type="number" id="lootbox-amount" value="0" min="0" step="0.01" placeholder="Amount">
            <div class="incr-btns">
              <button class="incr-btn" onclick="incrInput('lootbox-amount',0.01)">+.01</button>
              <button class="incr-btn" onclick="incrInput('lootbox-amount',0.1)">+.1</button>
              <button class="incr-btn" onclick="incrInput('lootbox-amount',1)">+1</button>
            </div>
          </div>
          <div class="presale-badge" id="presale-badge">PRESALE - 62% BONUS BURNIE</div>
        </div>
      </div>
      <div class="purchase-controls">
        <button class="btn-primary" onclick="Mint.purchase()">PURCHASE - <span id="eth-total-cost">0</span> ETH</button>
      </div>
    </div>

    <!-- BURNIE mode -->
    <div class="pay-mode" id="pay-burnie" style="display:none">
      <div class="burnie-balance-line">Balance: <span id="burnie-balance">—</span></div>
      <div class="purchase-grid">
        <div class="purchase-col">
          <div class="purchase-col-header">
            <h3>Tickets</h3>
            <span class="ticket-level">Level <span id="burnie-ticket-level">0</span></span>
          </div>
          <div class="input-with-btns">
            <input type="number" id="burnie-ticket-qty" value="0" min="0" step="1" placeholder="Qty">
            <div class="incr-btns">
              <button class="incr-btn" onclick="incrInput('burnie-ticket-qty',1)">+1</button>
              <button class="incr-btn" onclick="incrInput('burnie-ticket-qty',10)">+10</button>
              <button class="incr-btn" onclick="incrInput('burnie-ticket-qty',100)">+100</button>
            </div>
          </div>
        </div>
        <div class="purchase-col">
          <div class="purchase-col-header">
            <h3>Lootbox</h3>
            <span class="purchase-col-unit">BURNIE</span>
          </div>
          <div class="input-with-btns">
            <input type="number" id="burnie-lootbox-amount" value="0" min="0" step="100" placeholder="Amount">
            <div class="incr-btns">
              <button class="incr-btn" onclick="incrInput('burnie-lootbox-amount',100)">+100</button>
              <button class="incr-btn" onclick="incrInput('burnie-lootbox-amount',1000)">+1k</button>
              <button class="incr-btn" onclick="incrInput('burnie-lootbox-amount',10000)">+10k</button>
            </div>
          </div>
        </div>
      </div>
      <div class="purchase-controls">
        <button class="btn-primary" onclick="Mint.purchaseBurnie()">PURCHASE - <span id="burnie-total-cost">0</span> BURNIE</button>
      </div>
    </div>

    <div id="tx-status" class="tx-status"></div>
  </section>

  <!-- Player Streaks & Quests -->
  <section class="panel player-info" id="player-info-panel" style="display:none">
    <h3>Streaks</h3>
    <div class="info-row" id="row-mint-streak">
      <span class="info-label">Mint Streak</span>
      <span class="info-value" id="player-mint-streak">—</span>
    </div>
    <div class="info-row" id="row-quest-streak">
      <span class="info-label">Quest Streak</span>
      <span class="info-value" id="player-quest-streak">—</span>
    </div>
    <div class="info-row" id="row-level-count">
      <span class="info-label">Levels Minted</span>
      <span class="info-value" id="player-level-count">—</span>
    </div>

    <h3 style="margin-top: 0.75rem">Daily Quests</h3>
    <div id="quest-list">
      <div class="quest-item">
        <div class="quest-type" id="quest-0-type">—</div>
        <div class="quest-progress" id="quest-0-progress"></div>
      </div>
      <div class="quest-item">
        <div class="quest-type" id="quest-1-type">—</div>
        <div class="quest-progress" id="quest-1-progress"></div>
      </div>
    </div>
  </section>
  </div><!-- /.purchase-sidebar -->

  </div><!-- /.main-layout -->

  <footer>
    <p>Degenerus Protocol Beta &mdash; Testnet</p>
  </footer>
</div>

<script>
function incrInput(id, amt) {
  var el = document.getElementById(id);
  if (!el) return;
  var step = el.step ? parseFloat(el.step) : 1;
  var decimals = (step.toString().split('.')[1] || '').length;
  var cur = parseFloat(el.value) || 0;
  el.value = (cur + amt).toFixed(decimals);
  el.dispatchEvent(new Event('input', { bubbles: true }));
}

function togglePayMode(mode) {
  document.getElementById('pay-eth').style.display = mode === 'eth' ? '' : 'none';
  document.getElementById('pay-burnie').style.display = mode === 'burnie' ? '' : 'none';
  var btns = document.querySelectorAll('.pay-toggle-btn');
  for (var i = 0; i < btns.length; i++) {
    btns[i].classList.toggle('active', btns[i].dataset.mode === mode);
  }
}
</script>
<script src="/shared/nav.js"></script>
<script>initNav({ currentPage: 'beta' });</script>
<script type="module">
  import { ethers } from 'https://esm.sh/ethers@6';
  window.ethers = ethers;
  // Auto-init after ethers is available
  window.addEventListener('load', function () {
    // Give nav.js a tick to settle, then init Mint if wallet already connected
    setTimeout(function () {
      if (window.ethereum && window.Mint) {
        window.ethereum.request({ method: 'eth_accounts' }).then(function (accounts) {
          if (accounts && accounts.length > 0) {
            // Wallet already authorised — init silently
            Mint.init().catch(function () {});
            var prompt = document.getElementById('connect-prompt');
            if (prompt) prompt.style.display = 'none';
          }
        }).catch(function () {});
      }
    }, 300);
  });
</script>
<script src="/beta/mint.js"></script>
</body>
</html>
